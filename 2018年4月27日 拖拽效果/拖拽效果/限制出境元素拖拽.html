<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<style>
		#box{
		    width: 100px;
		    height: 100px;
		    background: red;
		    position: absolute;
		    top:0;
		    left:0;
		    
		}
</style>
<body>
	 <div id="box"></div>
	 
	 <script type="text/javascript">
	 	const oBox=document.getElementById("box");
	 	//鼠标按下时状态
	 	oBox.onmousedown=function(ev){
	 		let disx=ev.pageX-oBox.offsetLeft;
	 		let disy=ev.pageY-oBox.offsetTop;
	 		
	 		//当元素移动的时候
	 		document.onmousemove=function(ev){
	 			//首先把它的位置存起来
	 			let l=ev.pageX-disx;
	 			let t=ev.pageY-disy;
	 			console.log(t)
	 			
	 			//对元素做出限制类型的判断
	 			//当l小于0时，让l=0.否则l>window.innerWidth-oBox.clientWidth
	 			if(l<0){
	 				l=0;
	 			}else if(l>window.innerWidth-oBox.clientWidth){
	 				l=window.innerWidth-oBox.clientWidth;
	 			}
	 			
	 			if(t<0){
	 				t=0;
	 			}else if(t>window.innerHeight-oBox.clientHeight){
	 				t=window.innerHeight-oBox.clientHeight;
	 			}
	 			
	 			//吸附效果
	 			if(t<50){
	 				t=0
	 			}else if(t>window.innerHeight-oBox.clientHeight){
	 				t=window.innerHeight-oBox.clientHeight;
	 			}
	 			
	 			//先来把元素拖拽做出来，然后在去做一些判断。
	 			oBox.style.left=l+"px";
	 			oBox.style.top=t+"px";
	 		}
	 		
	 		document.onmouseup=function(){
	 			document.onmouseup=document.onmouseover=null;
	 		}
	 		return false;
	 	}
	 </script>
</body>
</html>
