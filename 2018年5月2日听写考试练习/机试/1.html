<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>Document</title>
<style>
*{
	margin: 0;
	padding: 0;
}
#wrap{
	width:450px;
	height: 260px;
	background: #ffb746;
	/*border-radius:10px;*/
	border: 1px solid #000;
	font-family: "微软雅黑";
	
	/*box-shadow:1px 1px 1px #000;*/
}
nav a{
	display: inline-block;
	width:146px;
	height: 40px;
	font-size: 16px;
	text-align: center;
	line-height: 40px;
	color: #000;
	text-decoration: none;
	background: #fff;
}
a.active{
	background: #ffb746;
	color: #fff;
}

#box{
	margin:20px;
	height: 180px;
}
#box ul{
	width:226px;
	list-style: none;
	float: left;
}
#box div{
	display: none;
}
#box div.show{
	display: block;
}
#box ul li{
	height: 60px;
	width
}
#box ul li.active{
	background:#fff;
}
#box li p{
	font-size: 14px;
	color:#fff;
	text-indent:2em;
	line-height:2.5em;
	height: 35px;
}
#box li.active p{
	font-size: 16px;
	color:#000;
}
#box li.active span{
	color:#000;
}
img{
	width:178px;
	height: 178px;
	display: block;
	float: left;
	border: 2px solid #fff;
	display: none;
}
img.active{
	display: block;
}
span{
	font-size: 12px;
	line-height: 20px;
	text-indent:2.5em;
	display: block;
	color:#fff;
}
#box div{
	height: 180px;
	width:
}

</style>
</head>
<body>
	<section id="wrap">
		<nav id="nav">
			<a href="javascript:;" class="active">专题</a>
			<a href="javascript:;">视频</a>
			<a href="javascript:;">图片</a>
		</nav>
		<div id="box">
			<div class="show">
				<img src="img/1.jpg" alt="" class="active"/>
				<img src="img/2.jpg" alt=""/>
				<img src="img/3.jpg" alt=""/>
				<ul class="show">
					<li class="active">
						<p>奇虎360纽交所上市11</p>
						<span>2016-10-12</span>
					</li>
					<li >
						<p>2011年IT领袖峰会</p>
						<span>2016-10-12</span>
					</li>
					<li>
						<p>CCBN召开 助三网融合</p>
						<span>2016-10-12</span>
					</li>
				</ul>
			</div>
			
			<div>
				<img src="img/4.jpg" alt=""  class="active"/>
				<img src="img/3.jpg" alt=""/>
				<img src="img/1.jpg" alt=""/>
				<ul class="show">
					<li class="active">
						<p>奇虎360纽交所上市222</p>
						<span>2016-10-12</span>
					</li>
					<li >
						<p>2011年IT领袖峰会</p>
						<span>2016-10-12</span>
					</li>
					<li>
						<p>CCBN召开 助三网融合1</p>
						<span>2016-10-12</span>
					</li>
				</ul>
			</div>
			
			<div>
				<img src="img/1.jpg" alt=""  class="active"/>
				<img src="img/2.jpg" alt=""/>
				<img src="img/3.jpg" alt=""/>
				<ul class="show">
					<li class="active">
						<p>奇虎360纽交所上市333</p>
						<span>2016-10-12</span>
					</li>
					<li >
						<p>2011年IT领袖峰会</p>
						<span>2016-10-12</span>
					</li>
					<li>
						<p>CCBN召开 助三网融合</p>
						<span>2016-10-12</span>
					</li>
				</ul>
			</div>
			
		</div>
	</section>
	
	<script type="text/javascript">
		const oWrap=document.getElementById("wrap");
		
		const oNav=document.getElementById("nav");
		
		const oA1=oNav.children;
			
		const oBox=document.getElementById("box");
		const oDiv=oBox.children;
	
		const oLi=document.getElementsByTagName("li");
		const oImG1=document.getElementsByTagName("img");		
		//console.log(oImG1)			
		let timer=null;
		let num1=0;
		let num2=0;
							
		for(let i=0;i<oA1.length;i++){		
			
			oA1[i].onmouseover=function(){	
				clear();	
				for(let j=0;j<oA1.length;j++){
					oA1[j].classList.remove("active");
					oDiv[j].classList.remove("show");
				}
				oDiv[i].classList.add("show");
				this.classList.add("active");	
				clearInterval(timer);
						num1 = i;
						num2 = 0;
				timer=setInterval(autoPlay,1000);
			}					
		}						
		//切换内容里面的图片
		
		for(let k=0;k<oDiv.length;k++){
			
				const oImg=oDiv[k].getElementsByTagName("img");		
				const oUl=oDiv[k].lastElementChild;		
				const aLi=oUl.children;	
				
				for(let i=0;i<aLi.length;i++){	
				
					aLi[i].onmouseover=function(){
						for(let j=0;j<aLi.length;j++){
							aLi[j].classList.remove("active");
							oImg[j].classList.remove("active");
						}
						oImg[i].classList.add("active");
						this.classList.add("active");						
						clearInterval(timer);
					}
					aLi[i].onmouseout=function(){
						num2 = i;
						timer=setInterval(autoPlay,1000);
					}
				}			
		}
		
		//开定时器	
		timer=setInterval(autoPlay,1000)
			
		function autoPlay(){
			clear();		
			//点击每个div里面的li
			const oImg=oDiv[num1].getElementsByTagName("img");		
			const oUl=oDiv[num1].lastElementChild;		
			const aLi=oUl.children;
			
				num2++
				if(num2>2){
					num2=0;
					num1++;
					for(let j=0;j<oA1.length;j++){
						oA1[j].classList.remove("active");
						oDiv[j].classList.remove("show");
					}			
					
					if(num1>oA1.length-1){
						num1=0;
					}
					oDiv[num1].classList.add("show");
					oA1[num1].classList.add("active");
				}
			
				
				for(let j=0;j<aLi.length;j++){
					aLi[j].classList.remove("active");
					oImg[j].classList.remove("active");
				}
				oImg[num2].classList.add("active");
				aLi[num2].classList.add("active");
					
		}
	
	
		for(let i=0;i<oA1.length;i++){		
			oA1[i].onmouseout=function(){
				clearInterval(timer);
				num1 = i;
				num2 = 0;
				timer=setInterval(autoPlay,1000);
			
			}
		}
		
		function clear(){
			//先获取页面的li，img然后清空
			//获取页面中所有的li,img元素，找到它们的第一个兄弟，然后，添加active;
			for(let i=0;i<oLi.length;i++){
				oLi[i].className="";
			}
			for (let i=0;i<oImG1.length;i++) {
				oImG1[i].className="";
			}
			
			for(let i=0;i<oDiv.length;i++){
			
				const ofristImg=oDiv[i].children[0];
				
				ofristImg.classList.add("active");
				
				const ofristLi=oDiv[i].children[3].children[0];
				
				ofristLi.classList.add("active");
				
			}
			
			
			
			
		}
		
		
	
	
	</script>
</body>
</html>